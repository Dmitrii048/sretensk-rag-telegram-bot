<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SDA Legal Assistant</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --bg-color: var(--tg-theme-bg-color, #1A202C);
            --text-color: var(--tg-theme-text-color, #ffffff);
            --hint-color: var(--tg-theme-hint-color, #a0aec0);
            --btn-color: var(--tg-theme-button-color, #3182ce);
            --btn-text: var(--tg-theme-button-text-color, #ffffff);
            --card-bg: var(--tg-theme-secondary-bg-color, #2D3748);
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            margin: 0; padding: 0; display: flex; flex-direction: column; height: 100vh;
        }

        /* –®–∞–ø–∫–∞ —Å –≥–µ—Ä–±–∞–º–∏ */
        .header {
            display: flex; justify-content: space-between; align-items: center;
            padding: 20px;
            background: linear-gradient(180deg, rgba(0,0,0,0.2) 0%, rgba(0,0,0,0) 100%);
        }
        
        .logo {
            width: 60px; height: 60px; object-fit: contain;
            filter: drop-shadow(0px 0px 5px rgba(255,255,255,0.2));
        }

        .title-container { text-align: center; flex: 1; }
        .title-container h1 { margin: 0; font-size: 18px; font-weight: 700; }
        .title-container p { margin: 5px 0 0; font-size: 12px; color: var(--hint-color); }

        /* –û–±–ª–∞—Å—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
        .content {
            flex: 1; padding: 20px; overflow-y: auto;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }

        /* –ü–æ–¥—Å–∫–∞–∑–∫–∏ (Suggestion Chips) */
        .suggestions {
            display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin-bottom: 30px;
            width: 100%;
        }
        .chip {
            background-color: var(--card-bg);
            color: var(--text-color);
            padding: 8px 16px; border-radius: 20px; font-size: 13px;
            cursor: pointer; border: 1px solid transparent;
            transition: all 0.2s;
        }
        .chip:active { transform: scale(0.95); opacity: 0.8; }

        /* –ü–æ–ª–µ –≤–≤–æ–¥–∞ */
        .input-area {
            padding: 20px; background-color: var(--card-bg);
            border-top-left-radius: 20px; border-top-right-radius: 20px;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.1);
        }
        
        textarea {
            width: 100%; height: 60px;
            background-color: var(--bg-color); color: var(--text-color);
            border: 1px solid var(--hint-color); border-radius: 12px;
            padding: 12px; font-size: 16px; outline: none; resize: none;
            box-sizing: border-box; font-family: inherit;
        }
        textarea:focus { border-color: var(--btn-color); }

        .send-btn {
            width: 100%; margin-top: 15px; padding: 14px;
            background-color: var(--btn-color); color: var(--btn-text);
            border: none; border-radius: 12px; font-size: 16px; font-weight: 600;
            cursor: pointer; text-transform: uppercase; letter-spacing: 0.5px;
        }
    </style>
</head>
<body>

    <!-- 1. –®–ê–ü–ö–ê –° –ì–ï–†–ë–ê–ú–ò -->
    <div class="header">
        <!-- –°–Æ–î–ê –í–°–¢–ê–í–ò–¢–¨ –ì–ï–†–ë –ê–ö–ê–î–ï–ú–ò–ò (—Ñ–∞–π–ª academy_logo.png –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤ –ø–∞–ø–∫—É docs) -->
        <img src="https://via.placeholder.com/100?text=SDA" alt="–ì–µ—Ä–± –°–î–ê" class="logo" id="logo-left">
        
        <div class="title-container">
            <h1>–ü—Ä–∞–≤–æ–≤–æ–π –ø–æ–º–æ—â–Ω–∏–∫</h1>
            <p>–°—Ä–µ—Ç–µ–Ω—Å–∫–∞—è –¥—É—Ö–æ–≤–Ω–∞—è –∞–∫–∞–¥–µ–º–∏—è</p>
        </div>

        <!-- –°–Æ–î–ê –í–°–¢–ê–í–ò–¢–¨ –§–ï–ú–ò–î–£ (—Ñ–∞–π–ª themis_logo.png –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤ –ø–∞–ø–∫—É docs) -->
        <img src="https://via.placeholder.com/100?text=LAW" alt="–§–µ–º–∏–¥–∞" class="logo" id="logo-right">
    </div>

    <div class="content">
        <p style="text-align: center; color: var(--hint-color); margin-bottom: 20px;">
            –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ø—É–ª—è—Ä–Ω—É—é —Ç–µ–º—É –∏–ª–∏ –∑–∞–¥–∞–π—Ç–µ —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å:
        </p>
        
        <!-- 2. –ë–´–°–¢–†–´–ï –í–û–ü–†–û–°–´ (–ß–ò–ü–°–´) -->
        <div class="suggestions">
            <div class="chip" onclick="setQuestion('–ö–∞–∫ –æ—Ñ–æ—Ä–º–∏—Ç—å –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–π –æ—Ç–ø—É—Å–∫?')">üìÑ –ê–∫–∞–¥–µ–º. –æ—Ç–ø—É—Å–∫</div>
            <div class="chip" onclick="setQuestion('–ü—Ä–∞–≤–∏–ª–∞ –æ—Ç—á–∏—Å–ª–µ–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤')">‚ùå –û—Ç—á–∏—Å–ª–µ–Ω–∏–µ</div>
            <div class="chip" onclick="setQuestion('–†–∞–∑–º–µ—Ä —Å—Ç–∏–ø–µ–Ω–¥–∏–∏ –∏ –≤—ã–ø–ª–∞—Ç—ã')">üí∞ –°—Ç–∏–ø–µ–Ω–¥–∏—è</div>
            <div class="chip" onclick="setQuestion('–ü–æ—Ä—è–¥–æ–∫ –∑–∞—Å–µ–ª–µ–Ω–∏—è –≤ –æ–±—â–µ–∂–∏—Ç–∏–µ')">üè† –û–±—â–µ–∂–∏—Ç–∏–µ</div>
        </div>
    </div>

    <!-- 3. –í–í–û–î –ò –û–¢–ü–†–ê–í–ö–ê -->
    <div class="input-area">
        <textarea id="question-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å..."></textarea>
        <button class="send-btn" onclick="sendData()">–ù–∞–π—Ç–∏ –æ—Ç–≤–µ—Ç</button>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand(); // –†–∞—Å—Ç—è–Ω—É—Ç—å –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω

        // –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∑–∞–º–µ–Ω–∏—Ç—å –∑–∞–≥–ª—É—à–∫–∏ –Ω–∞ —Å–≤–æ–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏ —Å Github:
        // document.getElementById('logo-left').src = 'academy_logo.png';
        // document.getElementById('logo-right').src = 'themis_logo.png';

        function setQuestion(text) {
            const input = document.getElementById('question-input');
            input.value = text;
            // –ú–æ–∂–Ω–æ —Å—Ä–∞–∑—É –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∏–ª–∏ –¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
            input.focus();
        }

        function sendData() {
            const input = document.getElementById('question-input');
            const text = input.value.trim();

            if (!text) {
                tg.showAlert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –≤–æ–ø—Ä–æ—Å.");
                return;
            }

            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ–±—ä–µ–∫—Ç JSON, —á—Ç–æ–±—ã –≤ Python –µ–≥–æ –∫—Ä–∞—Å–∏–≤–æ —Ä–∞–∑–æ–±—Ä–∞—Ç—å
            const data = JSON.stringify({
                question: text,
                timestamp: new Date().toISOString()
            });

            tg.sendData(data);
            // –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–∫—Ä–æ–µ—Ç—Å—è —Å–∞–º–æ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ
        }
    </script>
</body>
</html>
