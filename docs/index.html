<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SDA Legal Assistant</title>
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º —Å–∫—Ä–∏–ø—Ç –¢–µ–ª–µ–≥—Ä–∞–º–∞ -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --bg-color: var(--tg-theme-bg-color, #f5f5f5); /* –°–≤–µ—Ç–ª—ã–π —Ñ–æ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
            --text-color: var(--tg-theme-text-color, #000000);
            --hint-color: var(--tg-theme-hint-color, #999999);
            --btn-color: var(--tg-theme-button-color, #3390ec);
            --btn-text: var(--tg-theme-button-text-color, #ffffff);
            --card-bg: var(--tg-theme-secondary-bg-color, #ffffff);
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            margin: 0; padding: 0; display: flex; flex-direction: column; height: 100vh;
        }

        /* –®–∞–ø–∫–∞ */
        .header {
            display: flex; justify-content: space-between; align-items: center;
            padding: 15px 20px;
            background: var(--card-bg);
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .logo {
            width: 50px; height: 50px; object-fit: contain;
        }

        .title-container { text-align: center; flex: 1; margin: 0 10px; }
        .title-container h1 { margin: 0; font-size: 16px; font-weight: 700; line-height: 1.2; }
        .title-container p { margin: 2px 0 0; font-size: 11px; color: var(--hint-color); }

        /* –ö–æ–Ω—Ç–µ–Ω—Ç */
        .content {
            flex: 1; padding: 20px; overflow-y: auto;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }

        .suggestions {
            display: flex; flex-wrap: wrap; gap: 8px; justify-content: center; margin-bottom: 30px;
            width: 100%;
        }
        
        .chip {
            background-color: var(--card-bg);
            color: var(--text-color);
            padding: 10px 15px; border-radius: 20px; font-size: 13px;
            cursor: pointer; 
            border: 1px solid var(--hint-color); /* –î–æ–±–∞–≤–∏–ª —Ä–∞–º–∫—É –¥–ª—è –≤–∏–¥–∏–º–æ—Å—Ç–∏ */
            opacity: 0.9;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            transition: transform 0.1s;
        }
        .chip:active { transform: scale(0.95); opacity: 1; background-color: var(--btn-color); color: var(--btn-text); border-color: var(--btn-color); }

        /* –í–≤–æ–¥ */
        .input-area {
            padding: 20px; background-color: var(--card-bg);
            border-top: 1px solid var(--hint-color);
        }
        
        textarea {
            width: 100%; height: 60px;
            background-color: var(--bg-color); color: var(--text-color);
            border: 1px solid var(--hint-color); border-radius: 12px;
            padding: 12px; font-size: 16px; outline: none; resize: none;
            box-sizing: border-box; font-family: inherit; margin-bottom: 10px;
        }
        textarea:focus { border-color: var(--btn-color); border-width: 2px; }

        .send-btn {
            width: 100%; padding: 14px;
            background-color: var(--btn-color); color: var(--btn-text);
            border: none; border-radius: 12px; font-size: 16px; font-weight: 600;
            cursor: pointer; text-transform: uppercase;
        }
        .send-btn:active { opacity: 0.8; }
    </style>
</head>
<body>

    <div class="header">
        <!-- –Ø –ø–æ—Å—Ç–∞–≤–∏–ª –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∏–∫–æ–Ω–∫–∏, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ "–±–∏—Ç—ã—Ö" –∫–∞—Ä—Ç–∏–Ω–æ–∫ -->
        <!-- –ü–æ–∑–∂–µ –∑–∞–º–µ–Ω–∏ –∏—Ö –Ω–∞ —Å–≤–æ–∏ —Ñ–∞–π–ª—ã: src="academy.png" -->
        <img src="https://img.icons8.com/ios-filled/100/3390ec/university.png" alt="–ì–µ—Ä–± –°–î–ê" class="logo">
        
        <div class="title-container">
            <h1>–ü—Ä–∞–≤–æ–≤–æ–π –ø–æ–º–æ—â–Ω–∏–∫</h1>
            <p>–°—Ä–µ—Ç–µ–Ω—Å–∫–∞—è –¥—É—Ö–æ–≤–Ω–∞—è –∞–∫–∞–¥–µ–º–∏—è</p>
        </div>

        <img src="https://img.icons8.com/ios-filled/100/3390ec/scales.png" alt="–§–µ–º–∏–¥–∞" class="logo">
    </div>

    <div class="content">
        <p style="text-align: center; color: var(--hint-color); margin-bottom: 20px; font-size: 14px;">
            –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Ç–µ–º—É –∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ –≤–æ–ø—Ä–æ—Å:
        </p>
        
        <div class="suggestions">
            <div class="chip" onclick="setQuestion('–ö–∞–∫ –æ—Ñ–æ—Ä–º–∏—Ç—å –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–π –æ—Ç–ø—É—Å–∫?')">üìÑ –ê–∫–∞–¥–µ–º. –æ—Ç–ø—É—Å–∫</div>
            <div class="chip" onclick="setQuestion('–ü—Ä–∞–≤–∏–ª–∞ –æ—Ç—á–∏—Å–ª–µ–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤')">‚ùå –û—Ç—á–∏—Å–ª–µ–Ω–∏–µ</div>
            <div class="chip" onclick="setQuestion('–†–∞–∑–º–µ—Ä —Å—Ç–∏–ø–µ–Ω–¥–∏–∏ –∏ –≤—ã–ø–ª–∞—Ç—ã')">üí∞ –°—Ç–∏–ø–µ–Ω–¥–∏—è</div>
            <div class="chip" onclick="setQuestion('–ü–æ—Ä—è–¥–æ–∫ –∑–∞—Å–µ–ª–µ–Ω–∏—è –≤ –æ–±—â–µ–∂–∏—Ç–∏–µ')">üè† –û–±—â–µ–∂–∏—Ç–∏–µ</div>
        </div>
    </div>

    <div class="input-area">
        <textarea id="question-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å..."></textarea>
        <button class="send-btn" onclick="sendData()">–ù–ê–ô–¢–ò –û–¢–í–ï–¢</button>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
        const tg = window.Telegram.WebApp;
        
        // –°–û–û–ë–©–ê–ï–ú –¢–ï–õ–ï–ì–†–ê–ú–£, –ß–¢–û –ü–†–ò–õ–û–ñ–ï–ù–ò–ï –ì–û–¢–û–í–û (–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!)
        tg.ready(); 
        tg.expand(); 

        // –§—É–Ω–∫—Ü–∏—è –≤—Å—Ç–∞–≤–∫–∏ —Ç–µ–∫—Å—Ç–∞ –∏–∑ —á–∏–ø—Å–æ–≤
        function setQuestion(text) {
            const input = document.getElementById('question-input');
            input.value = text;
            
            // –í–∏–∑—É–∞–ª—å–Ω—ã–π –æ—Ç–∫–ª–∏–∫ (–≤–∏–±—Ä–∞—Ü–∏—è –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ)
            if(tg.HapticFeedback) tg.HapticFeedback.impactOccurred('light');
            
            // –°—Ä–∞–∑—É —Ñ–æ–∫—É—Å –Ω–∞ –∫–Ω–æ–ø–∫–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞
            document.querySelector('.send-btn').focus();
        }

        // –§—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏
        function sendData() {
            const input = document.getElementById('question-input');
            const text = input.value.trim();

            if (!text) {
                // –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–∞—Ç–∏–≤–Ω—ã–π –∞–ª–µ—Ä—Ç –¢–µ–ª–µ–≥—Ä–∞–º–∞
                tg.showAlert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞.");
                return;
            }

            // –í–∏–∑—É–∞–ª—å–Ω–æ –º–µ–Ω—è–µ–º –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã –±—ã–ª–æ –ø–æ–Ω—è—Ç–Ω–æ, —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –ø–æ—à–µ–ª
            const btn = document.querySelector('.send-btn');
            btn.innerText = "–û–¢–ü–†–ê–í–õ–Ø–Æ...";
            if(tg.HapticFeedback) tg.HapticFeedback.notificationOccurred('success');

            const data = JSON.stringify({
                question: text
            });

            // –û–¢–ü–†–ê–í–ö–ê –î–ê–ù–ù–´–• –ë–û–¢–£
            // –≠—Ç–æ –∑–∞–∫—Ä–æ–µ—Ç –æ–∫–Ω–æ –∏ –ø–µ—Ä–µ–¥–∞—Å—Ç –¥–∞–Ω–Ω—ã–µ –≤ python-—Å–∫—Ä–∏–ø—Ç
            tg.sendData(data);
        }
    </script>
</body>
</html>
