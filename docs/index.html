<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SDA Assistant</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            background-color: var(--tg-theme-bg-color, #ffffff);
            color: var(--tg-theme-text-color, #000000);
            font-family: -apple-system, BlinkMacSystemFont, Roboto, Helvetica, Arial, sans-serif;
            margin: 0; padding: 0; display: flex; flex-direction: column; height: 100vh;
        }

        /* –®–∞–ø–∫–∞ */
        .header {
            padding: 20px;
            text-align: center;
            background: var(--tg-theme-secondary-bg-color, #f5f5f5);
            border-bottom: 1px solid rgba(0,0,0,0.05);
            display: flex; align-items: center; justify-content: center; gap: 15px;
        }
        
        .logo { width: 48px; height: 48px; }
        
        .titles h1 { margin: 0; font-size: 17px; font-weight: 700; color: var(--tg-theme-text-color); }
        .titles p { margin: 2px 0 0; font-size: 12px; color: var(--tg-theme-hint-color, #888); }

        /* –ö–æ–Ω—Ç–µ–Ω—Ç */
        .content {
            flex: 1; padding: 20px;
            display: flex; flex-direction: column; justify-content: center;
        }

        .label {
            text-align: center; color: var(--tg-theme-hint-color, #888);
            margin-bottom: 15px; font-size: 14px;
        }

        /* –ß–∏–ø—Å—ã (—Ç–µ–º—ã) */
        .chips-container {
            display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin-bottom: 30px;
        }
        
        .chip {
            background-color: var(--tg-theme-button-color, #3390ec);
            color: var(--tg-theme-button-text-color, #ffffff);
            padding: 8px 14px; border-radius: 18px; font-size: 13px; font-weight: 500;
            cursor: pointer; opacity: 0.15; transition: opacity 0.2s;
        }
        .chip.active { opacity: 1; } /* –î–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –≤—ã–¥–µ–ª–µ–Ω–∏—è */

        /* –°—Ç–∏–ª—å –∫–Ω–æ–ø–æ–∫ –∫–∞–∫ –≤ iOS */
        .topic-btn {
            background: var(--tg-theme-secondary-bg-color, #f0f0f0);
            color: var(--tg-theme-text-color);
            border: none; padding: 12px 16px; border-radius: 12px; font-size: 14px;
            cursor: pointer; transition: background 0.2s;
        }
        .topic-btn:active { opacity: 0.7; }

        /* –í–≤–æ–¥ */
        .input-wrapper {
            background: var(--tg-theme-bg-color);
            padding: 15px;
            border-top: 1px solid rgba(0,0,0,0.1);
        }

        textarea {
            width: 100%; height: 80px;
            background-color: var(--tg-theme-secondary-bg-color, #f5f5f5);
            color: var(--tg-theme-text-color);
            border: none; border-radius: 12px;
            padding: 12px; font-size: 16px; outline: none; resize: none;
            box-sizing: border-box; font-family: inherit; margin-bottom: 10px;
        }

        .main-btn {
            width: 100%; padding: 16px;
            background-color: var(--tg-theme-button-color, #3390ec);
            color: var(--tg-theme-button-text-color, #ffffff);
            border: none; border-radius: 12px; font-size: 16px; font-weight: 600;
            cursor: pointer;
        }
        .main-btn:active { transform: scale(0.98); }
    </style>
</head>
<body>

    <div class="header">
        <img src="https://img.icons8.com/color/96/university.png" class="logo" alt="Academy">
        <div class="titles">
            <h1>–ü–æ–º–æ—â–Ω–∏–∫ –°–î–ê</h1>
            <p>–ü—Ä–∞–≤–æ–≤–æ–π –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç</p>
        </div>
        <img src="https://img.icons8.com/color/96/scales.png" class="logo" alt="Law">
    </div>

    <div class="content">
        <div class="label">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã:</div>
        <div class="chips-container">
            <button class="topic-btn" onclick="setQuestion('–ö–∞–∫ –æ—Ñ–æ—Ä–º–∏—Ç—å –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–π –æ—Ç–ø—É—Å–∫?')">üìÑ –ê–∫–∞–¥–µ–º</button>
            <button class="topic-btn" onclick="setQuestion('–ü–æ—Ä—è–¥–æ–∫ –æ—Ç—á–∏—Å–ª–µ–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤')">‚ùå –û—Ç—á–∏—Å–ª–µ–Ω–∏–µ</button>
            <button class="topic-btn" onclick="setQuestion('–†–∞–∑–º–µ—Ä –∏ –≤–∏–¥—ã —Å—Ç–∏–ø–µ–Ω–¥–∏–π')">üí∞ –°—Ç–∏–ø–µ–Ω–¥–∏—è</button>
            <button class="topic-btn" onclick="setQuestion('–ü—Ä–∞–≤–∏–ª–∞ –æ–±—â–µ–∂–∏—Ç–∏—è')">üè† –û–±—â–µ–∂–∏—Ç–∏–µ</button>
        </div>
        
        <div class="label" style="margin-top: 20px;">–ò–ª–∏ –∑–∞–¥–∞–π—Ç–µ —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å:</div>
    </div>

    <div class="input-wrapper">
        <textarea id="q-input" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ –≤–æ–ø—Ä–æ—Å –∑–¥–µ—Å—å..."></textarea>
        <button class="main-btn" onclick="send()">–ù–ê–ô–¢–ò –û–¢–í–ï–¢</button>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand();

        function setQuestion(text) {
            const area = document.getElementById('q-input');
            area.value = text;
            if(tg.HapticFeedback) tg.HapticFeedback.impactOccurred('light');
            area.focus();
        }

        function send() {
            const text = document.getElementById('q-input').value.trim();
            if (!text) {
                tg.showAlert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞.");
                return;
            }

            if(tg.HapticFeedback) tg.HapticFeedback.notificationOccurred('success');

            const data = JSON.stringify({ question: text });
            tg.sendData(data);
        }
    </script>
</body>
</html>
